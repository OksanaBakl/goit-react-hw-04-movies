(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{104:function(t,e,r){"use strict";r.r(e);var n=r(57),a=r(0),c=r(14),u=r(56),o=r(66),i=r(97),s=r.n(i),h=r(1),p=function(t){var e=t.onSubmit,r=Object(a.useState)(""),u=Object(n.a)(r,2),o=u[0],i=u[1];return Object(h.jsx)("header",{className:s.a.Searchbar,children:Object(h.jsxs)("form",{className:s.a.SearchForm,onSubmit:function(t){if(t.preventDefault(),""===o.trim())return c.b.error("Enter your query");e(o),i("")},children:[Object(h.jsx)("button",{type:"submit",className:s.a.SearchForm__button,children:Object(h.jsx)("span",{className:s.a.SearchForm__button_label,children:"Search"})}),Object(h.jsx)("input",{className:s.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(t){i(t.target.value.toLowerCase())}})]})})},f=r(64),l=r(3);e.default=function(){var t,e=Object(l.f)(),r=Object(a.useState)(null),i=Object(n.a)(r,2),s=i[0],b=i[1],m=Object(a.useState)(""),v=Object(n.a)(m,2),d=v[0],_=v[1];Object(a.useEffect)((function(){var t;if(""!==(null===(t=e.location)||void 0===t?void 0:t.search)){var r,n=null===(r=e.location)||void 0===r?void 0:r.search.split("=")[1];Object(u.e)(n).then(b),_(n)}d&&Object(u.f)(d).then((function(t){var e=t.results;0!==e.length?(b(e),c.b.success("Movies on your query")):c.b.error("There are no results. Try another query")}))}),[null===(t=e.location)||void 0===t?void 0:t.search,d]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p,{onSubmit:function(t){_(t),b([])}}),Object(h.jsx)(f.a,{text:d}),s&&Object(h.jsx)(o.a,{movies:s})]})}},56:function(t,e,r){"use strict";r.d(e,"g",(function(){return h})),r.d(e,"f",(function(){return f})),r.d(e,"c",(function(){return b})),r.d(e,"b",(function(){return v})),r.d(e,"d",(function(){return _})),r.d(e,"a",(function(){return s})),r.d(e,"e",(function(){return x}));var n=r(60),a=r.n(n),c=r(61),u=r(62),o=r.n(u),i=r(14);o.a.defaults.baseURL="https://api.themoviedb.org/3",o.a.defaults.params={api_key:"3d673b2d8e40eafc68577fae5a6a1f4b",page:1,language:"en-US"};var s="https://image.tmdb.org/t/p/w500/";function h(){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function t(){var e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/trending/movie/day").then((function(t){return t})).catch((function(t){i.b.error(t)}));case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/search/movie?",{params:{query:e}}).then((function(t){return t})).catch((function(t){i.b.error(t)}));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/movie/".concat(e)).then((function(t){return t})).catch((function(t){i.b.error(t)}));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/movie/".concat(e,"/credits")).then((function(t){return t}));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.cast);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/movie/".concat(e,"/reviews")).then((function(t){return t}));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return S.apply(this,arguments)}function S(){return(S=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/search/movie?",{params:{query:e}}).then((function(t){return t}));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},63:function(t,e,r){t.exports={item:"MovieItem_item__27TKc",link:"MovieItem_link__1evlx"}},64:function(t,e,r){"use strict";var n=r(65),a=r.n(n),c=r(1);e.a=function(t){var e=t.text;return Object(c.jsx)("h1",{className:a.a.title,children:e})}},65:function(t,e,r){t.exports={title:"PageHeading_title__3VS5Q"}},66:function(t,e,r){"use strict";var n=r(3),a=r(7),c=r(63),u=r.n(c),o=r(1),i=function(t){var e=t.movie,r=Object(n.g)();return Object(o.jsx)("li",{className:u.a.item,children:Object(o.jsx)(a.b,{className:u.a.link,to:{pathname:"/movies/".concat(e.id),state:{from:r}},children:e.title})})};e.a=function(t){var e=t.movies;return Object(o.jsx)("ul",{children:e.map((function(t){return Object(o.jsx)(i,{movie:t},t.id)}))})}},97:function(t,e,r){t.exports={Searchbar:"SearchBar_Searchbar__pJH9z",SearchForm:"SearchBar_SearchForm__34n4l",SearchForm__button:"SearchBar_SearchForm__button__1LcqQ",SearchForm__button_label:"SearchBar_SearchForm__button_label__2w_90",SearchForm__input:"SearchBar_SearchForm__input__3pZZq","SearchForm-input":"SearchBar_SearchForm-input__394a6"}}}]);
//# sourceMappingURL=movies-page.a25aef51.chunk.js.map