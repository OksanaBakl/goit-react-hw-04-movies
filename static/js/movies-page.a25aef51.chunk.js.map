{"version":3,"sources":["components/SearchBar/SearchBar.js","views/MoviesPage/MoviesPage.js","services/API.js","components/MovieItem/MovieItem.module.css","components/PageHeading/PageHeading.js","components/PageHeading/PageHeading.module.css","components/MovieItem/MovieItem.js","components/MoviesList/MoviesList.js","components/SearchBar/SearchBar.module.css"],"names":["SearchBar","onSubmit","useState","query","setQuery","className","styles","Searchbar","SearchForm","event","preventDefault","trim","toast","error","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","value","onChange","target","toLowerCase","MoviesPage","history","useHistory","movies","setMovies","useEffect","location","search","prevQuery","split","getMoviesByQuery","then","getMoviesBySearch","results","length","success","PageHeading","text","MoviesList","axios","defaults","baseURL","params","api_key","page","language","BASE_IMAGE_URL","getTrendingMovies","a","get","data","catch","searchQuery","getMovieDetails","movieId","getMovieCredits","cast","getMovieReviews","module","exports","title","MovieItem","movie","useLocation","item","link","to","pathname","id","state","from","map"],"mappings":"oNA2CeA,EAtCG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAgBA,OACE,wBAAQC,UAAWC,IAAOC,UAA1B,SACE,uBAAMF,UAAWC,IAAOE,WAAYP,SAZnB,SAAAQ,GAGnB,GAFAA,EAAMC,iBAEe,KAAjBP,EAAMQ,OACR,OAAOC,IAAMC,MAAM,oBAErBZ,EAASE,GACTC,EAAS,KAKP,UACE,wBAAQU,KAAK,SAAST,UAAWC,IAAOS,mBAAxC,SACE,sBAAMV,UAAWC,IAAOU,yBAAxB,sBAGF,uBACEX,UAAWC,IAAOW,kBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,MAAOlB,EACPmB,SA5BkB,SAAAb,GACxBL,EAASK,EAAMc,OAAOF,MAAMG,wB,eCqCjBC,UAtCI,WAAO,IAAD,EACjBC,EAAUC,cAChB,EAA4BzB,mBAAS,MAArC,mBAAO0B,EAAP,KAAeC,EAAf,KACA,EAA0B3B,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEA0B,qBAAU,WAAO,IAAD,EACd,GAAiC,MAA7B,UAAAJ,EAAQK,gBAAR,eAAkBC,QAAe,CAAC,IAAD,EAC7BC,EAAS,UAAGP,EAAQK,gBAAX,aAAG,EAAkBC,OAAOE,MAAM,KAAK,GACtDC,YAAiBF,GAAWG,KAAKP,GACjCzB,EAAS6B,GAEN9B,GAGLkC,YAAkBlC,GAAOiC,MAAK,YAAkB,IAAfE,EAAc,EAAdA,QACR,IAAnBA,EAAQC,QAIZV,EAAUS,GACV1B,IAAM4B,QAAQ,yBAJZ5B,IAAMC,MAAM,gDAMf,WAACa,EAAQK,gBAAT,aAAC,EAAkBC,OAAQ7B,IAO9B,OACE,qCACE,cAAC,EAAD,CAAWF,SAPE,SAAAE,GACfC,EAASD,GACT0B,EAAU,OAMR,cAACY,EAAA,EAAD,CAAaC,KAAMvC,IAClByB,GAAU,cAACe,EAAA,EAAD,CAAYf,OAAQA,S,oUCtCrCgB,IAAMC,SAASC,QAAU,+BACzBF,IAAMC,SAASE,OAAS,CACtBC,QAAS,mCACTC,KAAM,EACNC,SAAU,SAGZ,IAAMC,EAAiB,mC,SAERC,I,2EAAf,8BAAAC,EAAA,sEACyBT,IACpBU,IAAI,uBACJlB,MAAK,SAAAmB,GAAI,OAAIA,KACbC,OAAM,SAAU3C,GACfD,IAAMC,MAAMA,MALlB,uBACU0C,EADV,EACUA,KADV,kBAOSA,GAPT,4C,+BAUelB,E,8EAAf,WAAiCoB,GAAjC,iBAAAJ,EAAA,sEACyBT,IACpBU,IAAI,iBAAkB,CACrBP,OAAQ,CAAE5C,MAAOsD,KAElBrB,MAAK,SAAAmB,GAAI,OAAIA,KACbC,OAAM,SAAU3C,GACfD,IAAMC,MAAMA,MAPlB,uBACU0C,EADV,EACUA,KADV,kBASSA,GATT,4C,+BAYeG,E,8EAAf,WAA+BC,GAA/B,iBAAAN,EAAA,sEACyBT,IACpBU,IADoB,iBACNK,IACdvB,MAAK,SAAAmB,GAAI,OAAIA,KACbC,OAAM,SAAU3C,GACfD,IAAMC,MAAMA,MALlB,uBACU0C,EADV,EACUA,KADV,kBAOSA,GAPT,4C,+BAUeK,E,8EAAf,WAA+BD,GAA/B,iBAAAN,EAAA,sEACyBT,IACpBU,IADoB,iBACNK,EADM,aAEpBvB,MAAK,SAAAmB,GAAI,OAAIA,KAHlB,uBACUA,EADV,EACUA,KADV,kBAISA,EAAKM,MAJd,4C,+BAOeC,E,8EAAf,WAA+BH,GAA/B,iBAAAN,EAAA,sEACyBT,IACpBU,IADoB,iBACNK,EADM,aAEpBvB,MAAK,SAAAmB,GAAI,OAAIA,KAHlB,uBACUA,EADV,EACUA,KADV,kBAISA,EAAKjB,SAJd,4C,+BAMeH,E,8EAAf,WAAgChC,GAAhC,iBAAAkD,EAAA,sEACyBT,IACpBU,IADoB,iBACE,CACrBP,OAAQ,CAAE5C,MAAOA,KAElBiC,MAAK,SAAAmB,GAAI,OAAIA,KALlB,uBACUA,EADV,EACUA,KADV,kBAMSA,EAAKjB,SANd,4C,2CCxDAyB,EAAOC,QAAU,CAAC,KAAO,wBAAwB,KAAO,0B,gCCDxD,4BAMevB,IAJK,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACrB,OAAO,oBAAIrC,UAAWC,IAAO2D,MAAtB,SAA8BvB,M,mBCFvCqB,EAAOC,QAAU,CAAC,MAAQ,6B,0ECmBXE,EAjBG,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACbpC,EAAWqC,cACjB,OACE,oBAAI/D,UAAWC,IAAO+D,KAAtB,SACE,cAAC,IAAD,CACEhE,UAAWC,IAAOgE,KAClBC,GAAI,CACFC,SAAS,WAAD,OAAaL,EAAMM,IAC3BC,MAAO,CAAEC,KAAM5C,IAJnB,SAOGoC,EAAMF,WCDAtB,IAVI,SAAC,GAAgB,IAAdf,EAAa,EAAbA,OACpB,OACE,6BACGA,EAAOgD,KAAI,SAAAT,GAAK,OACf,cAAC,EAAD,CAAWA,MAAOA,GAAYA,EAAMM,W,mBCN5CV,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,mBAAqB,sCAAsC,yBAA2B,4CAA4C,kBAAoB,qCAAqC,mBAAmB","file":"static/js/movies-page.a25aef51.chunk.js","sourcesContent":["import { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport styles from './SearchBar.module.css';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = event => {\n    setQuery(event.target.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (query.trim() === '') {\n      return toast.error('Enter your query');\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.SearchForm__button}>\n          <span className={styles.SearchForm__button_label}>Search</span>\n        </button>\n\n        <input\n          className={styles.SearchForm__input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={handleInputChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default SearchBar;\n","import { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { getMoviesBySearch, getMoviesByQuery } from '../../services/API';\nimport MoviesList from '../../components/MoviesList/MoviesList';\nimport SearchBar from '../../components/SearchBar/SearchBar';\nimport PageHeading from '../../components/PageHeading/PageHeading';\nimport { useHistory } from 'react-router-dom';\n\nconst MoviesPage = () => {\n  const history = useHistory();\n  const [movies, setMovies] = useState(null);\n  const [query, setQuery] = useState('');\n\n  useEffect(() => {\n    if (history.location?.search !== '') {\n      const prevQuery = history.location?.search.split('=')[1];\n      getMoviesByQuery(prevQuery).then(setMovies);\n      setQuery(prevQuery);\n    }\n    if (!query) {\n      return;\n    }\n    getMoviesBySearch(query).then(({ results }) => {\n      if (results.length === 0) {\n        toast.error('There are no results. Try another query');\n        return;\n      }\n      setMovies(results);\n      toast.success('Movies on your query');\n    });\n  }, [history.location?.search, query]);\n\n  const onSubmit = query => {\n    setQuery(query);\n    setMovies([]);\n  };\n\n  return (\n    <>\n      <SearchBar onSubmit={onSubmit} />\n      <PageHeading text={query} />\n      {movies && <MoviesList movies={movies} />}\n    </>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: '3d673b2d8e40eafc68577fae5a6a1f4b',\n  page: 1,\n  language: 'en-US',\n};\n\nconst BASE_IMAGE_URL = 'https://image.tmdb.org/t/p/w500/';\n\nasync function getTrendingMovies() {\n  const { data } = await axios\n    .get('/trending/movie/day')\n    .then(data => data)\n    .catch(function (error) {\n      toast.error(error);\n    });\n  return data;\n}\n\nasync function getMoviesBySearch(searchQuery) {\n  const { data } = await axios\n    .get('/search/movie?', {\n      params: { query: searchQuery },\n    })\n    .then(data => data)\n    .catch(function (error) {\n      toast.error(error);\n    });\n  return data;\n}\n\nasync function getMovieDetails(movieId) {\n  const { data } = await axios\n    .get(`/movie/${movieId}`)\n    .then(data => data)\n    .catch(function (error) {\n      toast.error(error);\n    });\n  return data;\n}\n\nasync function getMovieCredits(movieId) {\n  const { data } = await axios\n    .get(`/movie/${movieId}/credits`)\n    .then(data => data);\n  return data.cast;\n}\n\nasync function getMovieReviews(movieId) {\n  const { data } = await axios\n    .get(`/movie/${movieId}/reviews`)\n    .then(data => data);\n  return data.results;\n}\nasync function getMoviesByQuery(query) {\n  const { data } = await axios\n    .get(`/search/movie?`, {\n      params: { query: query },\n    })\n    .then(data => data);\n  return data.results;\n  //   const {\n  //     data: { results },\n  //   } = await axios.get(`/search/movie?api_key=${API_KEY}&query=${query}`);\n  //   return results;\n}\n\nexport {\n  getTrendingMovies,\n  getMoviesBySearch,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n  BASE_IMAGE_URL,\n  getMoviesByQuery,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MovieItem_item__27TKc\",\"link\":\"MovieItem_link__1evlx\"};","import styles from './PageHeading.module.css';\n\nconst PageHeading = ({ text }) => {\n  return <h1 className={styles.title}>{text}</h1>;\n};\n\nexport default PageHeading;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PageHeading_title__3VS5Q\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './MovieItem.module.css';\n\nconst MovieItem = ({ movie }) => {\n  const location = useLocation();\n  return (\n    <li className={styles.item}>\n      <Link\n        className={styles.link}\n        to={{\n          pathname: `/movies/${movie.id}`,\n          state: { from: location },\n        }}\n      >\n        {movie.title}\n      </Link>\n    </li>\n  );\n};\n\nexport default MovieItem;\n","import MovieItem from '../MovieItem/MovieItem';\n// import styles from './MoviesList.module.css';\n\nconst MoviesList = ({ movies }) => {\n  return (\n    <ul>\n      {movies.map(movie => (\n        <MovieItem movie={movie} key={movie.id} />\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__pJH9z\",\"SearchForm\":\"SearchBar_SearchForm__34n4l\",\"SearchForm__button\":\"SearchBar_SearchForm__button__1LcqQ\",\"SearchForm__button_label\":\"SearchBar_SearchForm__button_label__2w_90\",\"SearchForm__input\":\"SearchBar_SearchForm__input__3pZZq\",\"SearchForm-input\":\"SearchBar_SearchForm-input__394a6\"};"],"sourceRoot":""}